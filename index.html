<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday!</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Pacifico&display=swap');
body, html { margin:0; padding:0; width:100%; height:100%; overflow-x:hidden; background: linear-gradient(to right, #ff9a9e, #fad0c4); font-family: Arial, sans-serif;}
.card-container { perspective:1000px; width:300px; max-width:90%; margin:100px auto; }
.card { width:100%; height:400px; position:relative; transform-style:preserve-3d; transition: transform 1s; cursor:pointer; }
.card.flipped { transform:rotateY(180deg);}
.front, .back { width:100%; height:100%; position:absolute; backface-visibility:hidden; border-radius:20px; box-shadow:0 10px 30px rgba(0,0,0,0.3); display:flex; align-items:center; justify-content:center; flex-direction:column; color:white; padding:20px; text-align:center;}
.front { background:#ff5f6d;}
.back { background:#ffc371; transform:rotateY(180deg);}
.quote { font-family:'Pacifico', cursive; font-size:1.5em; animation:floatText 2s ease-in-out infinite alternate; }
@keyframes floatText { 0% { transform: translateY(0px);} 100% { transform: translateY(-15px);}}
.celebration-btns { margin-top:20px; display:flex; gap:15px; flex-wrap:wrap; justify-content:center;}
.celebration-btns button { padding:10px 15px; border:none; border-radius:10px; background:#ff6a00; color:white; cursor:pointer; transition:all 0.3s; font-weight:bold;}
.celebration-btns button:hover { transform: scale(1.2); background:#ff9a00;}
.cake { position:relative; width:100px; height:80px; background:#ff6b81; margin:20px auto; border-radius:0 0 20px 20px; display:none;}
.candle { position:absolute; width:10px; height:30px; background:#fff; top:-30px; left:45px; display:none;}
.flame { position:absolute; width:6px; height:12px; background:yellow; border-radius:50%; top:-12px; left:2px; animation:flicker 0.2s infinite;}
@keyframes flicker { 0%{transform:scale(1);} 50%{transform:scale(1.3);} 100%{transform:scale(1);}}
.wish { font-size:2em; font-family:'Pacifico', cursive; margin-top:20px; opacity:0; animation:appear 2s forwards;}
@keyframes appear {0%{opacity:0;}100%{opacity:1;}}
canvas { position:fixed; top:0; left:0; width:100%; height:100%; pointer-events:none; }
</style>
</head>
<body>

<audio id="bg-music" src="birthday-song.mp3" autoplay loop></audio>

<div class="card-container">
  <div class="card" id="birthdayCard">
    <div class="front">
      <h1>ðŸŽ‰ Happy Birthday! ðŸŽ‰</h1>
      <p>Click to open your surprise!</p>
    </div>
    <div class="back">
      <p class="quote">"May your day be as special as you are!"</p>
      <div class="celebration-btns">
        <button onclick="showCandle()">Light Candle</button>
        <button onclick="showCake()">Cut Cake</button>
      </div>
      <div class="cake" id="cake"></div>
      <div class="candle" id="candle"><div class="flame"></div></div>
      <div class="wish" id="wish">ðŸŽ‚ Happy Birthday! ðŸŽ‚</div>
    </div>
  </div>
</div>

<canvas id="confetti"></canvas>

<script>
// Card flip
const card = document.getElementById('birthdayCard');
card.addEventListener('click',()=>{card.classList.toggle('flipped');});

// Candle & Cake
function showCandle(){document.getElementById('candle').style.display='block';}
function showCake(){
  document.getElementById('cake').style.display='block';
  document.getElementById('wish').style.opacity=1;
  startConfetti();
}

// Confetti animation
const canvas = document.getElementById('confetti');
const ctx = canvas.getContext('2d');
let confettiParticles = [];
function resizeCanvas(){canvas.width=window.innerWidth;canvas.height=window.innerHeight;}
window.addEventListener('resize', resizeCanvas);
resizeCanvas();

function createConfetti(){
  for(let i=0;i<150;i++){
    confettiParticles.push({
      x: Math.random()*canvas.width,
      y: Math.random()*canvas.height- canvas.height,
      r: Math.random()*6+4,
      d: Math.random()*20+10,
      color: `hsl(${Math.random()*360},100%,50%)`,
      tilt: Math.random()*10-10,
      tiltAngleIncremental: Math.random()*0.07+0.05,
      tiltAngle:0
    });
  }
}
function drawConfetti(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  confettiParticles.forEach(p=>{
    ctx.beginPath();
    ctx.lineWidth=p.r/2;
    ctx.strokeStyle=p.color;
    ctx.moveTo(p.x+p.tilt+ p.r/4,p.y);
    ctx.lineTo(p.x+p.tilt,p.y+p.tilt+ p.r/4);
    ctx.stroke();
  });
  updateConfetti();
}
function updateConfetti(){
  confettiParticles.forEach(p=>{
    p.tiltAngle += p.tiltAngleIncremental;
    p.y += (Math.cos(p.d)+3+p.r/2)/2;
    p.x += Math.sin(p.d);
    p.tilt = Math.sin(p.tiltAngle)*15;
    if(p.y>canvas.height){p.y=0; p.x=Math.random()*canvas.width;}
  });
  requestAnimationFrame(drawConfetti);
}
function startConfetti(){ createConfetti(); drawConfetti();}
</script>

</body>
</html>
